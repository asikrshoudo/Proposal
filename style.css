/* RESET */
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: linear-gradient(135deg, #0f0f1a, #1a1a2e);
  color: #fff;
  font-family: 'Playfair Display', serif;
  overflow: hidden;
  height: 100vh;
}

/* --- FALLING STARS --- */
.stars { position: fixed; inset: 0; pointer-events: none; z-index: 0; }
.star {
  position: absolute; width: 2px; height: 2px; background: white; border-radius: 50%;
  opacity: 0; animation: fall linear forwards;
}
@keyframes fall {
  0% { transform: translateY(-10vh); opacity: 0; }
  10% { opacity: 1; }
  100% { transform: translateY(110vh); opacity: 0; }
}

/* --- SPLASH SCREEN --- */
.splash-screen {
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background: #0a0a1a; z-index: 100;
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  transition: opacity 1s ease;
}
.splash-title { font-size: 3rem; color: #ff6b9d; text-shadow: 0 0 20px rgba(255,107,157,0.5); }
.pulse-button {
  margin-top: 30px; padding: 12px 30px; font-size: 1.2rem;
  background: #e91e63; color: white; border: none; border-radius: 50px;
  cursor: pointer; animation: pulse 2s infinite; font-family: 'Playfair Display';
}
@keyframes pulse { 0%{box-shadow:0 0 0 0 rgba(233,30,99,0.7);} 70%{box-shadow:0 0 0 15px rgba(233,30,99,0);} 100%{box-shadow:0 0 0 0 rgba(233,30,99,0);} }

/* --- SCROLL CONTAINER --- */
.scroll-container {
  height: 100vh;
  overflow-y: scroll;
  scroll-snap-type: y mandatory;
  scroll-behavior: smooth;
  position: relative;
  z-index: 10;
}

.slide {
  height: 100vh;
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  scroll-snap-align: center; padding: 20px; text-align: center;
}

/* --- TYPING TEXT --- */
.text-box {
  background: rgba(255,255,255,0.05); backdrop-filter: blur(10px);
  padding: 30px; border-radius: 15px; border: 1px solid rgba(255,255,255,0.1);
  max-width: 90%; width: 500px;
}
.typing-text {
  font-family: 'Caveat', cursive; font-size: 2.2rem; color: #ffb7b2; min-height: 80px;
}

/* --- 3D GIFT BOX --- */
.present-wrapper {
  transition: all 1s ease; /* For vanish effect */
}

.present {
  height: 150px; width: 150px; /* Perfect size */
  perspective: 600px; position: relative; cursor: pointer; margin-top: 30px;
}
.rotate-container {
  animation: present-rotate 20s infinite linear;
  height: 100%; width: 100%; transform-style: preserve-3d;
  transform: rotateX(15deg) rotateY(15deg);
}
@keyframes present-rotate { 0%{transform:rotateY(0) rotateX(15deg);} 100%{transform:rotateY(360deg) rotateX(15deg);} }

/* Box Colors */
.bottom, .front, .left, .back, .right { background: #d81b60; position: absolute; width: 100%; height: 100%; border: 1px solid rgba(0,0,0,0.1); }
.bottom { transform: translateY(50%) rotateX(90deg); }
.front { transform: translateZ(75px); }
.back { transform: translateZ(-75px) rotateY(180deg); }
.left { transform: translateX(-50%) rotateY(-90deg); }
.right { transform: translateX(50%) rotateY(90deg); }

/* Lid */
.lid {
  position: absolute; top: 0; left: 0; width: 100%; height: 100%;
  transform-style: preserve-3d; transition: transform 0.5s;
}
.lid-top { background: #ad1457; width: 160px; height: 160px; position: absolute; top: -5px; left: -5px; transform: translateY(-50%) rotateX(90deg); }
.lid-front, .lid-back, .lid-left, .lid-right { background: #ad1457; height: 30px; width: 160px; position: absolute; top: -5px; left: -5px; }
.lid-front { transform: translateZ(80px); }
.lid-back { transform: translateZ(-80px) rotateY(180deg); }
.lid-left { transform: translateX(-50%) rotateY(-90deg); }
.lid-right { transform: translateX(50%) rotateY(90deg); }

/* Ribbons (Yellow) */
.front::after, .back::after, .left::after, .right::after, .lid-top::after, .lid-front::after {
  content: ''; position: absolute; background: #ffd700; box-shadow: 0 0 5px rgba(0,0,0,0.2);
}
/* Vertical Ribbons on box */
.front::after, .back::after, .left::after, .right::after { width: 20px; height: 100%; left: 50%; transform: translateX(-50%); }
/* Ribbon on lid */
.lid-top::after { width: 20px; height: 100%; left: 50%; transform: translateX(-50%); }
.lid-top::before {
  content:''; position: absolute; background: #ffd700; height: 20px; width: 100%; top: 50%; transform: translateY(-50%);
}

/* OPEN ANIMATION CLASS */
.present.open .lid { transform: translateY(-100px) rotateX(45deg); }
.tap-hint { margin-top: 50px; font-family: 'Caveat'; font-size: 1.5rem; opacity: 0.8; animation: bounce 1.5s infinite; }

/* --- POPUP --- */
.popup {
  position: fixed; inset: 0; background: rgba(0,0,0,0.9);
  display: flex; justify-content: center; align-items: center; z-index: 200;
  backdrop-filter: blur(5px);
  animation: fadeIn 0.5s ease;
}
.popup-content {
  background: rgba(255,255,255,0.1); border: 2px solid #ff6b9d;
  padding: 40px; border-radius: 20px; text-align: center; width: 90%; max-width: 400px;
}
.popup h1 { font-family: 'Caveat'; color: #ff6b9d; font-size: 3rem; margin-bottom: 10px; }
.popup p { font-size: 1.4rem; margin-bottom: 30px; }

.choice-btns button {
  padding: 12px 35px; border: none; border-radius: 50px; font-size: 1.3rem; cursor: pointer; margin: 0 10px; transition: 0.3s;
}
.yes-btn { background: #4caf50; color: white; }
.no-btn { background: #555; color: white; }
.yes-btn:hover { transform: scale(1.1); box-shadow: 0 0 20px #4caf50; }

.hidden { display: none !important; }
.vanish { opacity: 0; transform: scale(0); } /* Class to hide box */

@keyframes bounce { 0%,100%{transform:translateY(0);} 50%{transform:translateY(-10px);} }
@keyframes fadeIn { from{opacity:0;} to{opacity:1;} }
